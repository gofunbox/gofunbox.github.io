<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ThinkPHP on è®°å½•ç‚¹ç‚¹æ»´æ»´</title>
    <link>https://ifunboxp.top/categories/thinkphp/</link>
    <description>Recent content in ThinkPHP on è®°å½•ç‚¹ç‚¹æ»´æ»´</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Thu, 26 Mar 2015 09:22:12 +0000</lastBuildDate>
    
	<atom:link href="https://ifunboxp.top/categories/thinkphp/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>ç»“åˆMongoDBå¼€å‘LBSåº”ç”¨-æŸ¥çœ‹é™„è¿‘çš„äºº</title>
      <link>https://ifunboxp.top/mongodb_lbs_nearby_people/</link>
      <pubDate>Thu, 26 Mar 2015 09:22:12 +0000</pubDate>
      
      <guid>https://ifunboxp.top/mongodb_lbs_nearby_people/</guid>
      <description>æœ€è¿‘è´Ÿè´£çš„APPè¦ä¸ŠæŸ¥çœ‹é™„ä»¶çš„äººçš„åŠŸèƒ½
ä¹‹å‰ç”¨coreseekåšè¿‡ç±»ä¼¼é™„è¿‘çš„äººçš„åŠŸèƒ½ï¼Œè§‰å¾—æ­å»ºç´¢å¼•æ•´ä¸ªä¸‹æ¥å¤ªéº»çƒ¦äº†
å°±å¼€å§‹å¯»æ‰¾æ–°çš„è§£å†³æ–¹æ¡ˆï¼ŒæŸ¥æ‰¾åˆ°æ·±å…¥æµ…å‡ºSymfony2 &amp;#8211; ç»“åˆMongoDBå¼€å‘LBSåº”ç”¨ï¼Œé‡Œé¢ä»‹ç»äº†4ä¸ªå¯é€‰æ–¹æ¡ˆï¼Œæ¨èä½¿ç”¨MongoDBæ¥å®ç°
é¦–å…ˆåŠ ä¸€ç‚¹å¾€MongoDBæ•°æ®

äº†è§£ä¸‹geoNearçš„å‚æ•°ä½¿ç”¨ï¼Œå¦‚ä¸‹çš„æŸ¥è¯¢è¯­å¥å¯ä»¥æŸ¥è¯¢ä¸ºæŸç»çº¬åº¦ä¸ºä¸­å¿ƒé™„è¿‘çš„ç”¨æˆ·ï¼ˆä»è¿‘åˆ°è¿œï¼‰ï¼Œä¹Ÿè®¡ç®—å»è·ç¦»äº†ã€‚

thinkphpå®ç°çš„ä»£ç ï¼Œè·ç¦»å•ä½éƒ½æ˜¯km
&amp;lt;span style=&#34;font-size: 12pt;&#34;$where[&#39;geoNear&#39;] = &#39;user_coordinate&#39;; $where[&#39;near&#39;] = array($longitude,$latitude); $where[&#39;spherical&#39;] = true; $where[&#39;maxDistance&#39;] = $maxDistance/6371; $where[&#39;distanceMultiplier&#39;] = 6371; $where[&#39;query&#39;] = array(&#34;status&#34;=&amp;gt;1); $res = $this-&amp;gt;_user_coordinate_mod-&amp;gt;command($where); if (!empty($res[&#39;results&#39;])) { foreach ($res[&#39;results&#39;] as $key =&amp;gt; $value) { $data[$key] = $value[&#39;obj&#39;]; $data[$key][&#39;dis&#39;] = $value[&#39;dis&#39;]; } } return $data;&amp;lt;/span  å°±è¿™æ ·æå®šäº†</description>
    </item>
    
    <item>
      <title>thinkphp Mongoæ¨¡å‹çš„ä½¿ç”¨é—®é¢˜</title>
      <link>https://ifunboxp.top/thinkphp_mongodb_model/</link>
      <pubDate>Wed, 07 Jan 2015 08:51:42 +0000</pubDate>
      
      <guid>https://ifunboxp.top/thinkphp_mongodb_model/</guid>
      <description>å…ˆä¸Šå®˜æ–¹ä½¿ç”¨Mongoæ¨¡å‹å¼€å‘æ–‡æ¡£
æ„Ÿè§‰å†™çš„ä¸æ˜¯å¾ˆå…¨ï¼Œä¹Ÿè®¸æˆ‘ä¸ç†Ÿæ‚‰tpå§ ğŸ˜³
ç›®å‰è¿™ä¸ªé¡¹ç›®é»˜è®¤æ˜¯è¿æ¥MYSQLæ•°æ®åº“
æœ€è¿‘å¼€å‘æ¶ˆæ¯ä¸­å¿ƒï¼Œæ¶‰åŠåˆ°åœ¨ç¨‹åºæœŸé—´è¦è¿æ¥Mongoæ•°æ®åº“
æœ€å¼€å§‹ç”¨äº†ä¸‹é¢è¿™ä¸ªæ–¹å¼åˆ›å»ºæ¨¡å¼
define(&#39;MONGO_DB_HOST&#39;, &#39;192.168.1.172&#39;); define(&#39;MONGO_DB_PORT&#39;, 30000); define(&#39;MONGO_DB_NAME&#39;, &#39;funbox_test&#39;); define(&#39;MONGO_DSN&#39;, &#39;mongo://&#39;.MONGO_DB_HOST.&#39;:&#39;.MONGO_DB_PORT.&#39;/&#39;.MONGO_DB_NAME); M(&#39;MongoModel:msg_log&#39;,&#39;&#39;,MONGO_DSN);  æ­»æ´»è¿ä¸ä¸Šfunbox_testè¿™ä¸ªåº“ï¼Œè¿ä¸Šçš„æ˜¯funboxï¼Œååˆ†è´¹è§£
æœ€å¥½è€ä¸‹æ€§å­çœ‹äº†æºç 
MongoModelç±»ä¸­æœ‰$this-&amp;gt;dbNameè¿™ä¸ªå‚æ•°æ²¡æœ‰ä»»ä½•èµ‹å€¼çš„åœ°æ–¹ï¼Œå¦‚æœæ²¡æœ‰èµ‹å€¼ï¼Œå°±ä¼šæ˜¾ç¤ºé»˜è®¤é…ç½®MYSQLçš„åº“åï¼ŒMYSQLåº“æˆ‘é…ç½®çš„æ˜¯funboxï¼ŒåŸæ¥å¦‚æ­¤ã€‚
ç»§ç»­çœ‹çˆ¶ç±»Modelï¼Œåœ¨Modelç±»ä¸­çš„__constructå‘ç°äº†çº¿ç´¢ï¼Œç¬¬79è¡Œ
$this-&amp;gt;_initialize(); // è·å–æ¨¡å‹åç§° if(!empty($name)) { if(strpos($name,&#39;.&#39;)) { // æ”¯æŒ æ•°æ®åº“å.æ¨¡å‹åçš„ å®šä¹‰ &amp;lt;stronglist($this-&amp;gt;dbName,$this-&amp;gt;name) = explode(&#39;.&#39;,$name);&amp;lt;/strong }else{ $this-&amp;gt;name = $name; } }elseif(empty($this-&amp;gt;name)){ $this-&amp;gt;name = $this-&amp;gt;getModelName(); }  å¯ä»¥é€šè¿‡ä¸‹é¢çš„å†™æ³•æ¥è§£å†³é€‰æ‹©æ•°æ®åº“çš„é—®é¢˜
M(&amp;#8216;MongoModel:&amp;#8217;.MONGO_DB_NAME.&amp;#8217;.msg_log&amp;#8217;,&amp;#8221;,MONGO_DSN);
ç ”ç©¶äº†ä¸€ä¸ªä¸‹åˆï¼Œå¸Œæœ›èƒ½ä¸ºå¤§å®¶æ’æ’é›·ã€‚</description>
    </item>
    
    <item>
      <title>ThinkPHPå®ç°ä¼ªé™æ€å¦‚ä½•å»æ‰ç›®å½•ä¸­çš„index.php</title>
      <link>https://ifunboxp.top/thinkphp_remove_index.php</link>
      <pubDate>Fri, 06 Sep 2013 09:35:38 +0000</pubDate>
      
      <guid>https://ifunboxp.top/thinkphp_remove_index.php</guid>
      <description>ThinkPHPä¸­é»˜è®¤çš„URLåœ°å€æ˜¯å½¢å¦‚è¿™æ ·çš„ï¼šhttp://localhost/Myapp/index.php/Index/index/
Myappæ˜¯æˆ‘çš„é¡¹ç›®æ–‡ä»¶åï¼Œé»˜è®¤çš„è®¿é—®åœ°å€æ˜¯ä¸Šé¢è¿™æ ·çš„ã€‚ä¸ºäº†ä½¿URLæ›´åŠ ç®€ä»‹å‹å¥½ï¼Œç°åœ¨è¦å»æ‰ä¸­é—´çš„index.phpï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š
1ã€‚ç¡®è®¤httpd.confé…ç½®æ–‡ä»¶ä¸­åŠ è½½äº†mod_rewrite.so æ¨¡å—ï¼ŒåŠ è½½çš„æ–¹æ³•æ˜¯å»æ‰mod_rewrite.soå‰é¢çš„æ³¨é‡Š#å·
2ã€‚è®²httpd.confä¸­çš„AllowoverrideÂ None å°†Noneæ”¹ä¸ºAll
3ã€‚æ‰“å¼€å¯¹åº”çš„é¡¹ç›®é…ç½®æ–‡ä»¶ï¼Œæˆ‘çš„é¡¹ç›®é…ç½®æ–‡ä»¶æ˜¯Myapp/Conf/config.php ,åœ¨è¿™ä¸ªé…ç½®æ–‡ä»¶æ•°ç»„ä¸­å¢åŠ ä¸€è¡Œï¼Œâ€˜URL_MODELâ€™=&amp;gt;2
4ã€‚åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹é¢å»ºç«‹ä¸€ä¸ª.htaccessæ–‡ä»¶ï¼Œé‡Œé¢å†™å…¥ä¸‹é¢çš„å†…å®¹ï¼š

RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}Â !-f
RewriteRule ^(.*)$ index.php/$1 [QSA,PT,L]

å¦‚æœä½ çš„æœåŠ¡å™¨æ”¯æŒrewriteï¼Œç°åœ¨å°±å¯ä»¥é€šè¿‡http://localhost/Myapp/Index/index/è®¿é—®Indexæ¨¡å—ä¸‹é¢çš„indexæ“ä½œã€‚</description>
    </item>
    
  </channel>
</rss>